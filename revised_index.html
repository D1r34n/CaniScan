<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CaniScan - Dog Skin Disease Analyzer</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="revised_index.css">
    <link rel="stylesheet" href="revised_gallery.css">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="app-body">
    <!-- Window Controls -->
    <div class="window-controls">
        <button id="minimize"><i class="bi bi-dash"></i></button>
        <button id="close"><i class="bi bi-x"></i></button>
    </div>

    <!-- Navbar -->
    <nav id="navigationBar" class="navbar navbar-expand-lg navbar-light shadow-sm">
        <div class="container-fluid navbar-container">
            <!-- Logo -->
            <div class="navbar-brand logo-wrapper">
                <img src="images/logo_only_dark.svg" alt="CaniScan Logo" class="logo-img">
                <span class="brand-text">CaniScan</span>
            </div>

            <!-- Navigation Buttons -->
            <div class="navbar-nav nav-buttons">
                <button class="nav-btn active" id="homeBtn" data-page="home" >
                    <i class="bi bi-house-fill"></i> <span>Home</span>
                </button>
                <button class="nav-btn" id="galleryBtn" data-page="gallery" disabled>
                    <i class="bi bi-images"></i> <span>Gallery</span>
                </button>
                <button class="nav-btn" id="analysisBtn" data-page="analysis" disabled>
                    <i class="bi bi-search"></i> <span>Analysis</span>
                </button>
            </div>

            <!-- User Greeting -->
            <div class="user-greeting">
                <i class="user-icon bi bi-person-circle"></i>
                <span id="userName">Greetings, User!</span>
            </div>
        </div>
    </nav>

    <!-- Main container -->
    <div class="main-container">

        <!-- Home Page -->
        <div id="homePage" class="home-page" style="display: flex;">

            <!-- Server Card Container -->
            <div id="serverCardContainer" class="server-card-container">
                <div class="card server-card">
                <div class="card-body">
                    <i class="bi bi-wifi-off"></i>
                    <h5 class="card-title">Please connect to server</h5>
                    <p class="card-text text-muted">
                    The application is unable to reach the server. Make sure your connection is active.
                    </p>
                </div>
                <div id="connectServerButton" class="button">Connect to server</div>
                </div>
            </div>

            <!-- Gallery Overview (Hidden by default) -->
            <div id="galleryOverview" class="gallery-overview" style="display:none;">
                <div class="gallery-overview-container">

                    <!-- Left Column -->
                    <div class="left-column">
                        <h3>Gallery Overview</h3>

                        <div class="overview-flex">

                            <!-- Pie Chart Container with Outer Wrapper for Title -->
                            <div class="pie-chart-wrapper">
                                <h4 class="container-title">Gallery Image Distribution</h4>
                                <div class="pie-chart-container">
                                    <canvas id="statsPieChart"></canvas>
                                </div>
                            </div>


                            <!-- Stats Cards with Container Title -->
                            <div class="stats-cards-grid-container">
                                <h4 class="container-title">Image Statistics</h4>
                                <div class="stats-cards-grid">
                                    <div class="stat-card"><span>Raw Images</span><span class="number">12</span></div>
                                    <div class="stat-card"><span>Analyzed Images</span><span class="number">48</span></div>
                                    <div class="stat-card"><span>Dermatitis</span><span class="number">15</span></div>
                                    <div class="stat-card"><span>Mange</span><span class="number">10</span></div>
                                    <div class="stat-card"><span>Hotspot</span><span class="number">8</span></div>
                                    <div class="stat-card"><span>Healthy</span><span class="number">15</span></div>
                                </div>
                            </div>

                        </div> <!-- end of overview-flex -->
                    </div> <!-- end of left-column -->

                    <!-- Right Column -->
                    <div class="right-column">

                        <!-- Top Row: Connected Server -->
                        <div class="top-row connected-server">
                            <img class="connected_icon" src="images/connected_dog.jpg" alt="Device Image">
                            <p>Connected Successfully!</p>

                            <div class="device-dropdown">
                                <button class="btn btn-secondary dropdown-toggle" type="button" id="deviceDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                    Select Device
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="deviceDropdown">
                                    <li><a class="dropdown-item" href="#">Device 1</a></li>
                                    <li><a class="dropdown-item" href="#">Device 2</a></li>
                                </ul>
                            </div>

                            <button id="disconnectServerButton" class="disconnect-btn">Disconnect</button>
                        </div>

                        <!-- Bottom Row: Activity Log -->
                        <div class="bottom-row activity-log">
                            <h4>Activity Log</h4>
                            <ul class="activity-list">
                                <li>Device connected at 10:32 AM</li>
                                <li>Data synced successfully</li>
                                <li>Device disconnected at 11:00 AM</li>
                                <li>Device connected at 10:32 AM</li>
                                <li>Data synced successfully</li>
                                <li>Device disconnected at 11:30 AM</li>
                            </ul>
                        </div>

                    </div> <!-- end of right-column -->
                </div> <!-- end of gallery-overview-container -->
            </div> <!-- end of galleryOverview -->

        </div> <!-- end of homePage -->


        <!-- Gallery Page -->
        <div id="galleryPage" class="gallery-page" style="display: none;">
            <!-- Top Bar: Title + Sort + Toggle -->
            <div class="gallery-top-bar">
                <button id="uploadImage" class="btn btn-light upload-image">
                    <i class="bi bi-box-arrow-in-down"></i> Upload Image
                </button>

                <div class="gallery-controls">
                    <div class="sort-dropdown">
                        <button class="btn btn-secondary sort-dropdown" type="button" id="sortDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            Select Device
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="sortDropdown">
                            <li><a class="dropdown-item" href="#">Device 1</a></li>
                            <li><a class="dropdown-item" href="#">Device 2</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Columns container -->
            <div class="gallery-columns">
                <!-- Left Column: Image Grid -->
                <div class="gallery-left">
                <div class="image-grid">
                    <div class="image-item">Image 1</div>
                    <div class="image-item">Image 2</div>
                    <div class="image-item">Image 3</div>
                    <div class="image-item">Image 4</div>
                </div>
                </div>

                <!-- Right Column: Detail Pane -->
                <div class="gallery-right minimized" id="detailPane">
                <div class="detail-content">
                    <p>Details of selected image will appear here.</p>
                </div>
                </div>
            </div>
        </div>
        <!-- End of Gallery Page -->


        <!-- Analysis Page -->
        <div id="analysisPage" class="gallery-page" style="display: none;"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="revised_functions.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="gallery_chart.js"></script>
</body>
</html>
